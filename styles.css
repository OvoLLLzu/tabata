:root{
	--bg: #0b1220;
	--bg-soft: #0e1628;
	--text: #e6ecff;
	--muted: #9aa4bf;
	--good: #25d366;
	--warn: #ff8c42;
	--rest: #3aa0ff;
	--accent-1:#00e0ff;
	--accent-2:#7cff6b;
	--ring-track:#1b2540;
	--btn-bg:#182039;
	--btn-border:#253257;
	--btn-hover:#22305a;
}

*{ box-sizing: border-box; }
html, body { height: 100%; }
body{
	margin: 0;
	font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
	background: radial-gradient(1000px 600px at 20% 10%, #0f1a30 0%, var(--bg) 60%);
	color: var(--text);
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

.app{
	min-height: 100dvh;
	display: grid;
	grid-template-rows: auto 1fr auto;
	padding: 16px;
}

.header{ text-align: center; padding: 8px 0 4px; }
.title{ font-size: 22px; font-weight: 700; letter-spacing: 0.3px; }
.subtitle{ font-size: 13px; color: var(--muted); }

.main{ display: grid; place-items: center; gap: 16px; padding: 8px 0; }
.stage{ font-size: 18px; color: var(--muted); min-height: 24px; transition: opacity .3s ease; }

.timer-wrapper{
	position: relative;
	width: clamp(220px, 55vw, 320px);
	height: clamp(220px, 55vw, 320px);
	display: grid;
	place-items: center;
}

.ring{ width: 100%; height: 100%; transform: rotate(-90deg); filter: drop-shadow(0 0 24px rgba(124,255,107,.15)); }
.ring-track{ fill:none; stroke: var(--ring-track); stroke-width: 12; opacity: .7; }
.ring-progress{ fill:none; stroke: url(#ringGradient); stroke-width: 12; stroke-linecap: round; stroke-dasharray: 616; stroke-dashoffset: 616; transition: stroke-dashoffset .2s linear; }

.timer{
	position: absolute;
	font-size: clamp(44px, 9vw, 72px);
	font-weight: 800;
	letter-spacing: 1.2px;
	text-shadow: 0 2px 16px rgba(0,0,0,.35);
}

.timer.timer-blink{
	animation: timerBlink .8s steps(2, jump-none) infinite;
}

@keyframes timerBlink{
	0% { opacity: 1; }
	50% { opacity: .35; }
	100% { opacity: 1; }
}

.exercise{ text-align: center; }
.exercise-current{ font-size: 20px; font-weight: 700; min-height: 28px; }
.exercise-next{ font-size: 14px; color: var(--muted); min-height: 20px; margin-top: 4px; }

.overall{ width: min(100%, 560px); }
.overall-label{ font-size: 12px; color: var(--muted); margin-bottom: 6px; }
.overall-bar{ width: 100%; height: 8px; background: #121a2e; border-radius: 999px; overflow: hidden; box-shadow: inset 0 0 0 1px rgba(255,255,255,.03); }
.overall-fill{ height: 100%; width: 0%; background: linear-gradient(90deg, var(--accent-1), var(--accent-2)); transition: width .3s ease; }

.footer{ display: grid; place-items: center; gap: 8px; padding: 8px 0 4px; }
.controls{ display: flex; gap: 12px; }
.btn{
	appearance: none;
	border: 1px solid var(--btn-border);
	background: var(--btn-bg);
	color: var(--text);
	padding: 10px 18px;
	border-radius: 12px;
	font-weight: 700;
	font-size: 16px;
	cursor: pointer;
	transform: translateZ(0);
	transition: transform .06s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease;
	box-shadow: 0 6px 18px rgba(0,0,0,.25), inset 0 0 0 1px rgba(255,255,255,.03);
}
.btn:active{ transform: scale(.98); }
.btn:hover{ background: var(--btn-hover); }
.btn-primary{ border-color: #2a7fff; box-shadow: 0 6px 18px rgba(0,128,255,.25), inset 0 0 0 1px rgba(255,255,255,.03); }
.btn-secondary{ opacity: .9; }

/* States coloring */
.state-prepare .timer{ color: var(--warn); }
.state-prepare .app-bg{ background: radial-gradient(1000px 600px at 20% 10%, #1b263f 0%, var(--bg) 60%); }

.state-work .timer{ color: var(--good); }
.state-work .ring-progress{ filter: drop-shadow(0 0 16px rgba(37,211,102,.35)); }

.state-rest .timer{ color: var(--rest); }

/* Subtle breathing background animation for work/rest */
@keyframes breathe {
	0% { filter: hue-rotate(0deg) brightness(1); }
	50% { filter: hue-rotate(10deg) brightness(1.05); }
	100% { filter: hue-rotate(0deg) brightness(1); }
}
body{ animation: breathe 10s ease-in-out infinite; }

/* Fade transitions */
.fade-enter{ opacity: 0; transform: translateY(6px); }
.fade-enter-active{ opacity: 1; transform: translateY(0); transition: opacity .32s ease, transform .32s ease; }

.hint{ color: var(--muted); font-size: 12px; }

@media (max-width: 420px){
	.title{ font-size: 20px; }
	.timer{ font-size: 56px; }
}

